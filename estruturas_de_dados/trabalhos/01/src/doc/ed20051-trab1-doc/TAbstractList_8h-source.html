<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Estrutura de Dados - Trabalho 1: TAbstractList.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Gerado por Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="main.html">Página&nbsp;Principal</a> | <a class="qindex" href="hierarchy.html">Hierarquia&nbsp;de&nbsp;Classes</a> | <a class="qindex" href="classes.html">Lista&nbsp;Alfabética</a> | <a class="qindex" href="annotated.html">Estruturas&nbsp;de&nbsp;Dados</a> | <a class="qindex" href="files.html">Lista&nbsp;de&nbsp;Arquivos</a> | <a class="qindex" href="functions.html">Campos&nbsp;de&nbsp;Dados</a></div>
<h1>TAbstractList.h</h1><pre class="fragment"><div>00001 <span class="comment">/*******************************************************</span>
00002 <span class="comment"> *              Estrutura de Dados                     *</span>
00003 <span class="comment"> *******************************************************</span>
00004 <span class="comment"> * Trabalho 1                                          *</span>
00005 <span class="comment"> * Professor: Fabrício V. Matos                        *</span>
00006 <span class="comment"> *******************************************************</span>
00007 <span class="comment"> * Aluno: Reinaldo de Souza Junior                     *</span>
00008 <span class="comment"> * Licensa: GPL vs2.0 [ veja /docs/LICENSE.txt ]       *</span>
00009 <span class="comment"> *******************************************************/</span>
00010 
00011 <span class="comment">/*******************************************************</span>
00012 <span class="comment"> *                    CHANGELOG                        *</span>
00013 <span class="comment"> *******************************************************</span>
00014 <span class="comment"> * [07/05/2005 - 13:33]                                *</span>
00015 <span class="comment"> * Finalizada a documentação da classe TAbstractList   *</span>
00016 <span class="comment"> *                                                     *</span>
00017 <span class="comment"> * [07/05/2005 13:35]                                  *</span>
00018 <span class="comment"> * Alguns métodos foram implementados na propria       *</span>
00019 <span class="comment"> * definição da classe por serem extremamente simples  *</span>
00020 <span class="comment"> *                                                     *</span>
00021 <span class="comment"> * [12/05/2005 00:10]                                  *</span>
00022 <span class="comment"> * Implementados os metodos protegidos para tratar     *</span>
00023 <span class="comment"> * de maneira segura a tarefa de setar os elementos    *</span>
00024 <span class="comment"> * anterior e posterior de um nó.                      *</span>
00025 <span class="comment"> *                                                     *</span>
00026 <span class="comment"> * [21/05/2005 18:35]                                  *</span>
00027 <span class="comment"> * Os arquivo .h e .cpp foram mesclados devido à       *</span>
00028 <span class="comment"> * maneira como os templates são tratados pelo compi-  *</span>
00029 <span class="comment"> * lador.                                              *</span>
00030 <span class="comment"> *                                                     *</span>
00031 <span class="comment"> * [25/05/2005 01:33]                                  *</span>
00032 <span class="comment"> * Foram criados 2 novos métodos _ToNext() e _ToPrior  *</span>
00033 <span class="comment"> * unica e exclusivamente com o objetivo de tornar o   *</span>
00034 <span class="comment"> * método GoTo() mais seguro e inteligível.            *</span>
00035 <span class="comment"> *                                                     *</span>
00036 <span class="comment"> * Foi adicionado também um invariante ao método       *</span>
00037 <span class="comment"> * Insert() - apenas no desenvolvimento. Acho que      *</span>
00038 <span class="comment"> * agora o Insert() está realmente funcionando.        *</span>
00039 <span class="comment"> *                                                     *</span>
00040 <span class="comment"> * [30/05/2005 21:40]                                  *</span>
00041 <span class="comment"> * Implementado o método Sort (utilizando o algoritmo  *</span>
00042 <span class="comment"> * Bubblesort) e com isso foi finalizada o template    *</span>
00043 <span class="comment"> * TAbstractList&lt;T&gt;                                    *</span>
00044 <span class="comment"> *******************************************************/</span>
00045 
00046 <span class="preprocessor">#ifndef TAbstractList_H</span>
00047 <span class="preprocessor"></span><span class="preprocessor">#define TAbstractList_H</span>
00048 <span class="preprocessor"></span>
00049 <span class="preprocessor">#include "TError.h"</span>
00050 <span class="preprocessor">#include &lt;iostream&gt;</span>
00051 <span class="preprocessor">#include &lt;cstdlib&gt;</span>
00052 
<a name="l00062"></a><a class="code" href="classTAbstractList.html">00062</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">class </span><a class="code" href="classTAbstractList.html">TAbstractList</a> {
00063 
<a name="l00067"></a><a class="code" href="structTAbstractList_1_1node.html">00067</a>         <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structTAbstractList_1_1node.html">node</a> {
<a name="l00068"></a><a class="code" href="structTAbstractList_1_1node.html#o0">00068</a>                 <span class="keyword">struct </span><a class="code" href="structTAbstractList_1_1node.html">node</a> *<a class="code" href="structTAbstractList_1_1node.html#o0">pPrior</a>;    
<a name="l00069"></a><a class="code" href="structTAbstractList_1_1node.html#o1">00069</a>                 T *<a class="code" href="structTAbstractList_1_1node.html#o1">Data</a>;                
<a name="l00070"></a><a class="code" href="structTAbstractList_1_1node.html#o2">00070</a>                 <span class="keyword">struct </span><a class="code" href="structTAbstractList_1_1node.html">node</a> *<a class="code" href="structTAbstractList_1_1node.html#o2">pNext</a>;     
00071         } <a class="code" href="structTAbstractList_1_1node.html">Node</a>;
00072 
00073 <span class="preprocessor">#ifdef DEBUG</span>
00074 <span class="preprocessor"></span>        <span class="keyword">public</span>:
00075                 <span class="comment">/**********************************************</span>
00076 <span class="comment">                 * Dump()</span>
00077 <span class="comment">                 **********************************************</span>
00078 <span class="comment">                 * Exibe os dados do objeto</span>
00079 <span class="comment">                 **********************************************/</span>
00085                 <span class="keywordtype">void</span> Dump();
00086 <span class="preprocessor">#endif</span>
00087 <span class="preprocessor"></span>
00088         <span class="keyword">protected</span>:
<a name="l00089"></a><a class="code" href="classTAbstractList.html#p0">00089</a>                 <span class="keywordtype">int</span> <a class="code" href="classTAbstractList.html#p0">Size</a>;       
<a name="l00090"></a><a class="code" href="classTAbstractList.html#p1">00090</a>                 <span class="keywordtype">int</span> <a class="code" href="classTAbstractList.html#p1">PosCorrente</a>;
<a name="l00092"></a><a class="code" href="classTAbstractList.html#p2">00092</a>                 <a class="code" href="structTAbstractList_1_1node.html">Node</a> *<a class="code" href="classTAbstractList.html#p2">pFirst</a>;   
<a name="l00093"></a><a class="code" href="classTAbstractList.html#p3">00093</a>                 <a class="code" href="structTAbstractList_1_1node.html">Node</a> *<a class="code" href="classTAbstractList.html#p3">pCurrent</a>; 
<a name="l00094"></a><a class="code" href="classTAbstractList.html#p4">00094</a>                 <a class="code" href="structTAbstractList_1_1node.html">Node</a> *<a class="code" href="classTAbstractList.html#p4">pLast</a>;    
00096                 <span class="comment">/**********************************************</span>
00097 <span class="comment">                 * TAbstractList()</span>
00098 <span class="comment">                 **********************************************</span>
00099 <span class="comment">                 * Construtor.</span>
00100 <span class="comment">                 **********************************************/</span>
<a name="l00107"></a><a class="code" href="classTAbstractList.html#b0">00107</a>                 <a class="code" href="classTAbstractList.html#b0">TAbstractList</a>() : <a class="code" href="classTAbstractList.html#p1">PosCorrente</a>(0), <a class="code" href="classTAbstractList.html#p2">pFirst</a>(NULL), <a class="code" href="classTAbstractList.html#p3">pCurrent</a>(NULL), <a class="code" href="classTAbstractList.html#p4">pLast</a>(NULL), <a class="code" href="classTAbstractList.html#p0">Size</a>(0) {  };
00108 
00109                 <span class="comment">/**********************************************</span>
00110 <span class="comment">                 * ~TAbstractList()</span>
00111 <span class="comment">                 **********************************************</span>
00112 <span class="comment">                 * Destrutor</span>
00113 <span class="comment">                 **********************************************/</span>
<a name="l00120"></a><a class="code" href="classTAbstractList.html#b1">00120</a>                 <a class="code" href="classTAbstractList.html#b1">~TAbstractList</a>() { <a class="code" href="classTAbstractList.html#b7">DelAll</a>(); };
00121 
00122                 <span class="comment">/**********************************************</span>
00123 <span class="comment">                 * Count()</span>
00124 <span class="comment">                 **********************************************</span>
00125 <span class="comment">                 * Retorna o numero de elementos da estrutura</span>
00126 <span class="comment">                 **********************************************/</span>
<a name="l00132"></a><a class="code" href="classTAbstractList.html#b2">00132</a>                 <span class="keywordtype">int</span> <a class="code" href="classTAbstractList.html#b2">Count</a>() { <span class="keywordflow">return</span> <a class="code" href="classTAbstractList.html#p0">Size</a>; };
00133 
00134                 <span class="comment">/**********************************************</span>
00135 <span class="comment">                 * Get()</span>
00136 <span class="comment">                 **********************************************</span>
00137 <span class="comment">                 * Retorna um elemento de uma posição específica</span>
00138 <span class="comment">                 **********************************************/</span>
<a name="l00149"></a><a class="code" href="classTAbstractList.html#b3">00149</a>                 T* <a class="code" href="classTAbstractList.html#b3">Get</a>(<span class="keywordtype">int</span> pos) { <span class="keywordflow">try</span> { <a class="code" href="classTAbstractList.html#b14">GoTo</a>(pos); } <span class="keywordflow">catch</span> (...) { <span class="keywordflow">throw</span>; } <span class="keywordflow">return</span> <a class="code" href="classTAbstractList.html#b4">GetCurrent</a>(); };
00150 
00151                 <span class="comment">/**********************************************</span>
00152 <span class="comment">                 * GetCurrent()</span>
00153 <span class="comment">                 **********************************************</span>
00154 <span class="comment">                 * Retorna o elemento corrente</span>
00155 <span class="comment">                 **********************************************/</span>
<a name="l00162"></a><a class="code" href="classTAbstractList.html#b4">00162</a>                 T* <a class="code" href="classTAbstractList.html#b4">GetCurrent</a>() { <span class="keywordflow">if</span>(<a class="code" href="classTAbstractList.html#p3">pCurrent</a> == NULL) { <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classTENullElement.html">TENullElement</a>(<span class="stringliteral">"TAbstractList::GetCurrent"</span>); } <span class="keywordflow">return</span> <a class="code" href="classTAbstractList.html#p3">pCurrent</a>-&gt;<a class="code" href="structTAbstractList_1_1node.html#o1">Data</a>; };
00163 
00164                 <span class="comment">/**********************************************</span>
00165 <span class="comment">                 * Insert()</span>
00166 <span class="comment">                 **********************************************</span>
00167 <span class="comment">                 * Insere um elemento em uma posição específica</span>
00168 <span class="comment">                 **********************************************/</span>
00185                 <span class="keywordtype">int</span> Insert(T* data, <span class="keywordtype">int</span> pos);
00186 
00187                 <span class="comment">/**********************************************</span>
00188 <span class="comment">                 * Del()</span>
00189 <span class="comment">                 **********************************************</span>
00190 <span class="comment">                 * Remove um elemento da lista</span>
00191 <span class="comment">                 **********************************************/</span>
00203                 <span class="keywordtype">int</span> Del(<span class="keywordtype">int</span> pos);
00204 
00205                 <span class="comment">/**********************************************</span>
00206 <span class="comment">                 * DelAll()</span>
00207 <span class="comment">                 **********************************************</span>
00208 <span class="comment">                 * Remove todos os elemento da lista</span>
00209 <span class="comment">                 **********************************************/</span>
00215                 <span class="keywordtype">void</span> <a class="code" href="classTAbstractList.html#b7">DelAll</a>();
00216 
00217                 <span class="comment">/**********************************************</span>
00218 <span class="comment">                 * Kill()</span>
00219 <span class="comment">                 **********************************************</span>
00220 <span class="comment">                 * Remove e destrói um elemento da estrutura</span>
00221 <span class="comment">                 **********************************************/</span>
00233                 <span class="keywordtype">int</span> Kill(<span class="keywordtype">int</span> pos);
00234 
00235                 <span class="comment">/**********************************************</span>
00236 <span class="comment">                 * KillAll()</span>
00237 <span class="comment">                 **********************************************</span>
00238 <span class="comment">                 * Remove e destrói todos os elemento da estrutura</span>
00239 <span class="comment">                 **********************************************/</span>
00245                 <span class="keywordtype">void</span> <a class="code" href="classTAbstractList.html#b9">KillAll</a>();
00246 
00247                 <span class="comment">/**********************************************</span>
00248 <span class="comment">                 * MoveFirst()</span>
00249 <span class="comment">                 **********************************************</span>
00250 <span class="comment">                 * Aponta o elemento corrente para o primeiro elemento da estrutura</span>
00251 <span class="comment">                 **********************************************/</span>
<a name="l00259"></a><a class="code" href="classTAbstractList.html#b10">00259</a>                 <span class="keywordtype">int</span> <a class="code" href="classTAbstractList.html#b10">MoveFirst</a>() { <a class="code" href="classTAbstractList.html#p1">PosCorrente</a> = (<a class="code" href="classTAbstractList.html#p0">Size</a> &gt; 0) ? 0 : -1; <a class="code" href="classTAbstractList.html#p3">pCurrent</a> = <a class="code" href="classTAbstractList.html#p2">pFirst</a>; <span class="keywordflow">return</span> <a class="code" href="classTAbstractList.html#p1">PosCorrente</a>; };
00260 
00261                 <span class="comment">/**********************************************</span>
00262 <span class="comment">                 * MoveNext()</span>
00263 <span class="comment">                 **********************************************</span>
00264 <span class="comment">                 * Aponta o elemento corrente para próximo elemento da estrutura</span>
00265 <span class="comment">                 **********************************************/</span>
00271                 <span class="keywordtype">int</span> <a class="code" href="classTAbstractList.html#b11">MoveNext</a>();
00272 
00273                 <span class="comment">/**********************************************</span>
00274 <span class="comment">                 * MovePrior()</span>
00275 <span class="comment">                 **********************************************</span>
00276 <span class="comment">                 * Aponta o elemento corrente para o elemento anterior da estrutura.</span>
00277 <span class="comment">                 **********************************************/</span>
00283                 <span class="keywordtype">int</span> <a class="code" href="classTAbstractList.html#b12">MovePrior</a>();
00284 
00285                 <span class="comment">/**********************************************</span>
00286 <span class="comment">                 * MoveLast()</span>
00287 <span class="comment">                 **********************************************</span>
00288 <span class="comment">                 * Aponta o elemento corrente para o último elemento da estrutura</span>
00289 <span class="comment">                 **********************************************/</span>
<a name="l00295"></a><a class="code" href="classTAbstractList.html#b13">00295</a>                 <span class="keywordtype">int</span> <a class="code" href="classTAbstractList.html#b13">MoveLast</a>() { <a class="code" href="classTAbstractList.html#p1">PosCorrente</a> = <a class="code" href="classTAbstractList.html#p0">Size</a> - 1; <a class="code" href="classTAbstractList.html#p3">pCurrent</a> = <a class="code" href="classTAbstractList.html#p4">pLast</a>; <span class="keywordflow">return</span> Size; };
00296 
00297                 <span class="comment">/**********************************************</span>
00298 <span class="comment">                 * GoTo()</span>
00299 <span class="comment">                 **********************************************</span>
00300 <span class="comment">                 * Aponta o elemento corrente para o elemento na posição "posicao"</span>
00301 <span class="comment">                 **********************************************/</span>
00314                 <span class="keywordtype">int</span> GoTo(<span class="keywordtype">int</span> pos);
00315 
00316                 <span class="comment">/**********************************************</span>
00317 <span class="comment">                 * ResetCurrent()</span>
00318 <span class="comment">                 **********************************************</span>
00319 <span class="comment">                 * Reseta o elemento corrente da estrutura</span>
00320 <span class="comment">                 **********************************************/</span>
<a name="l00326"></a><a class="code" href="classTAbstractList.html#b15">00326</a>                 <span class="keywordtype">void</span> <a class="code" href="classTAbstractList.html#b15">ResetCurrent</a>() { <a class="code" href="classTAbstractList.html#p3">pCurrent</a> = NULL; <a class="code" href="classTAbstractList.html#p1">PosCorrente</a> = -1; };
00327 
00328                 <span class="comment">/**********************************************</span>
00329 <span class="comment">                 * Search()</span>
00330 <span class="comment">                 **********************************************</span>
00331 <span class="comment">                 * Busca um elemento na estrutura</span>
00332 <span class="comment">                 **********************************************/</span>
00343                 <span class="keywordtype">int</span> Search(T* procurado);
00344 
00345                 <span class="comment">/**********************************************</span>
00346 <span class="comment">                 * Sort()</span>
00347 <span class="comment">                 **********************************************</span>
00348 <span class="comment">                 * Ordena a lista</span>
00349 <span class="comment">                 **********************************************/</span>
00357                 <span class="keywordtype">void</span> <a class="code" href="classTAbstractList.html#b17">Sort</a>();
00358 
00359         <span class="keyword">private</span>:
00360                 <span class="comment">/**********************************************</span>
00361 <span class="comment">                 * _CreateNode()</span>
00362 <span class="comment">                 **********************************************</span>
00363 <span class="comment">                 * Cria um novo elemento para a estrutura</span>
00364 <span class="comment">                 **********************************************/</span>
<a name="l00378"></a><a class="code" href="classTAbstractList.html#d0">00378</a>                 <a class="code" href="structTAbstractList_1_1node.html">Node</a>* <a class="code" href="classTAbstractList.html#d0">_CreateNode</a>(T* dado, <a class="code" href="structTAbstractList_1_1node.html">Node</a>* anterior, <a class="code" href="structTAbstractList_1_1node.html">Node</a>* posterior) { <a class="code" href="structTAbstractList_1_1node.html">Node</a> *newNode = <span class="keyword">new</span> <a class="code" href="structTAbstractList_1_1node.html">Node</a>; newNode-&gt;<a class="code" href="structTAbstractList_1_1node.html#o1">Data</a> = dado; newNode-&gt;<a class="code" href="structTAbstractList_1_1node.html#o0">pPrior</a> = anterior; newNode-&gt;<a class="code" href="structTAbstractList_1_1node.html#o2">pNext</a> = posterior; <span class="keywordflow">return</span> newNode; };
00379 
00380                 <span class="comment">/**********************************************</span>
00381 <span class="comment">                 * _NodeSetPrior()</span>
00382 <span class="comment">                 **********************************************</span>
00383 <span class="comment">                 * Define o pPrior de um nó</span>
00384 <span class="comment">                 **********************************************/</span>
<a name="l00398"></a><a class="code" href="classTAbstractList.html#d1">00398</a>                 <span class="keywordtype">bool</span> <a class="code" href="classTAbstractList.html#d1">_NodeSetPrior</a>(<a class="code" href="structTAbstractList_1_1node.html">Node</a>* <a class="code" href="structTAbstractList_1_1node.html">node</a>, <a class="code" href="structTAbstractList_1_1node.html">Node</a>* anterior) { <span class="keywordflow">if</span>(node != NULL) { node-&gt;<a class="code" href="structTAbstractList_1_1node.html#o0">pPrior</a> = anterior; <span class="keywordflow">return</span> <span class="keyword">true</span>; } <span class="keywordflow">else</span> { <span class="keywordflow">return</span> <span class="keyword">false</span>; } };
00399                 
00400                 <span class="comment">/**********************************************</span>
00401 <span class="comment">                 * _NodeSetNext()</span>
00402 <span class="comment">                 **********************************************</span>
00403 <span class="comment">                 * Define o pNext de um nó (caso ele realmente seja um nó)</span>
00404 <span class="comment">                 **********************************************/</span>
<a name="l00418"></a><a class="code" href="classTAbstractList.html#d2">00418</a>                 <span class="keywordtype">bool</span> <a class="code" href="classTAbstractList.html#d2">_NodeSetNext</a>(<a class="code" href="structTAbstractList_1_1node.html">Node</a>* <a class="code" href="structTAbstractList_1_1node.html">node</a>, <a class="code" href="structTAbstractList_1_1node.html">Node</a>* proximo) { <span class="keywordflow">if</span>(node != NULL) { node-&gt;<a class="code" href="structTAbstractList_1_1node.html#o2">pNext</a> = proximo; <span class="keywordflow">return</span> <span class="keyword">true</span>; } <span class="keywordflow">else</span> { <span class="keywordflow">return</span> <span class="keyword">false</span>; } };
00419                 
00420                 <span class="comment">/**********************************************</span>
00421 <span class="comment">                 * _ToNext()</span>
00422 <span class="comment">                 **********************************************</span>
00423 <span class="comment">                 * Aponta para o próximo elemento e atualiza a posição</span>
00424 <span class="comment">                 **********************************************/</span>
00431                 <span class="keywordtype">bool</span> <a class="code" href="classTAbstractList.html#d3">_ToNext</a>();
00432 
00433                 <span class="comment">/**********************************************</span>
00434 <span class="comment">                 * _ToPrior()</span>
00435 <span class="comment">                 **********************************************</span>
00436 <span class="comment">                 * Aponta para o elemento anterior e atualiza a posição.</span>
00437 <span class="comment">                 **********************************************/</span>
00444                 <span class="keywordtype">bool</span> <a class="code" href="classTAbstractList.html#d4">_ToPrior</a>();
00445 
00446                 <span class="comment">/**********************************************</span>
00447 <span class="comment">                 * _PrepareDel()</span>
00448 <span class="comment">                 **********************************************</span>
00449 <span class="comment">                 * Prepara a lista para ser efetuado um Del</span>
00450 <span class="comment">                 **********************************************/</span>
00463                 Node* _PrepareDel(<span class="keywordtype">int</span> pos);
00464 
00465                 <span class="comment">/**********************************************</span>
00466 <span class="comment">                 * _BubbleSort()</span>
00467 <span class="comment">                 **********************************************</span>
00468 <span class="comment">                 * Executa um Bubblesort na lista</span>
00469 <span class="comment">                 **********************************************/</span>
00475                 <span class="keywordtype">void</span> <a class="code" href="classTAbstractList.html#d6">_BubbleSort</a>();
00476                 
00477                 <span class="comment">/**********************************************</span>
00478 <span class="comment">                 * _Swap()</span>
00479 <span class="comment">                 **********************************************</span>
00480 <span class="comment">                 * Troca a posicao de 2 elementos</span>
00481 <span class="comment">                 **********************************************/</span>
<a name="l00492"></a><a class="code" href="classTAbstractList.html#d7">00492</a>                 <span class="keywordtype">void</span> <a class="code" href="classTAbstractList.html#d7">_Swap</a>(<a class="code" href="structTAbstractList_1_1node.html">Node</a>* a, <a class="code" href="structTAbstractList_1_1node.html">Node</a> *b) { <span class="keywordflow">if</span> ( *(a-&gt;<a class="code" href="structTAbstractList_1_1node.html#o1">Data</a>) &lt; *(b-&gt;<a class="code" href="structTAbstractList_1_1node.html#o1">Data</a>) ) { T* aux = a-&gt;<a class="code" href="structTAbstractList_1_1node.html#o1">Data</a>; a-&gt;<a class="code" href="structTAbstractList_1_1node.html#o1">Data</a> = b-&gt;<a class="code" href="structTAbstractList_1_1node.html#o1">Data</a>; b-&gt;<a class="code" href="structTAbstractList_1_1node.html#o1">Data</a> = aux;} };
00493 };
00494 
00495 
00496 <span class="comment">/**********************************************</span>
00497 <span class="comment"> * _Compara()</span>
00498 <span class="comment"> **********************************************</span>
00499 <span class="comment"> * Compara 2 elementos</span>
00500 <span class="comment"> **********************************************/</span>
00512 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
00513 <span class="keywordtype">int</span> _Compara(<span class="keyword">const</span> <span class="keywordtype">void</span>* a, <span class="keyword">const</span> <span class="keywordtype">void</span>* b)
00514 {
00515         T *p1, *p2;
00516 
00517         p1 = (T*) a;
00518         p2 = (T*) b;
00519         
00520         <span class="keywordflow">if</span>(*p1 == *p2)
00521         {
00522                 <span class="keywordflow">return</span> 0;
00523         }
00524         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(*p1 &lt; *p2)
00525         {
00526                 <span class="keywordflow">return</span> -1;
00527         }
00528         <span class="keywordflow">else</span>
00529         {
00530                 <span class="keywordflow">return</span> 1;
00531         }
00532 }
00533 
00534 
00535 
00536 <span class="comment">/******************************************************</span>
00537 <span class="comment"> * private TAbstractList::_PrepareDel()</span>
00538 <span class="comment"> ******************************************************</span>
00539 <span class="comment"> * Prepara a lista para ser efetuado um Del</span>
00540 <span class="comment"> ******************************************************/</span>
<a name="l00541"></a><a class="code" href="classTAbstractList.html#d5">00541</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">struct </span><a class="code" href="classTAbstractList.html">TAbstractList</a>&lt;T&gt;::<a class="code" href="structTAbstractList_1_1node.html">node</a>* <a class="code" href="classTAbstractList.html">TAbstractList</a>&lt;T&gt;::_PrepareDel(int pos)
00542 {
00543         <span class="comment">//Fora dos limites</span>
00544         <span class="keywordflow">if</span>( pos &lt; 0 || pos &gt;= <a class="code" href="classTAbstractList.html#p0">Size</a> )
00545                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classTEOutOfBounds.html">TEOutOfBounds</a>(<span class="stringliteral">"TAbstractList::_PrepareDel"</span>);
00546 
00547         <span class="comment">//Armazenará o proximo pCurrent;</span>
00548         <a class="code" href="structTAbstractList_1_1node.html">Node</a> *pProximoCurrent = NULL;
00549 
00550         <span class="comment">//Move para a posição</span>
00551         <a class="code" href="classTAbstractList.html#b14">GoTo</a>(pos);
00552 
00553         <span class="comment">//</span>
00554         <span class="comment">//Atualiza os ponteiros</span>
00555         <span class="comment">//</span>
00556 
00557         <span class="comment">//O elemento seguinte passa a ser o corrente [definição no trabalho]</span>
00558         pProximoCurrent = <a class="code" href="classTAbstractList.html#p3">pCurrent</a>-&gt;pNext;
00559 
00560         <span class="comment">//Liga o elemento anterior ao elemento posterior</span>
00561         <span class="comment">//Próximo elemento do elemento anterior</span>
00562         <span class="comment">//-&gt;</span>
00563         <span class="comment">//Próximo elemento</span>
00564         <span class="keywordflow">if</span>(! <a class="code" href="classTAbstractList.html#d2">_NodeSetNext</a>(<a class="code" href="classTAbstractList.html#p3">pCurrent</a>-&gt;pPrior, <a class="code" href="classTAbstractList.html#p3">pCurrent</a>-&gt;pNext) ) {        <span class="comment">//Não existe anterior</span>
00565                 <a class="code" href="classTAbstractList.html#p2">pFirst</a> = <a class="code" href="classTAbstractList.html#p3">pCurrent</a>-&gt;<a class="code" href="structTAbstractList_1_1node.html#o2">pNext</a>;                               <span class="comment">//Cobre o caso em que o elemento que está sendo retirado é o primeiro da lista</span>
00566                                                                         <span class="comment">//Também cobre o caso em que ele é o único elemento (pFirst = NULL)</span>
00567         }
00568 
00569         <span class="comment">//Liga o elemento posterior ao anterior</span>
00570         <span class="comment">//Elemento anterior do proximo elemento</span>
00571         <span class="comment">//-&gt;</span>
00572         <span class="comment">//Elemento anterior</span>
00573         <span class="keywordflow">if</span>(! <a class="code" href="classTAbstractList.html#d1">_NodeSetPrior</a>(<a class="code" href="classTAbstractList.html#p3">pCurrent</a>-&gt;pNext, <a class="code" href="classTAbstractList.html#p3">pCurrent</a>-&gt;pPrior) ) {       <span class="comment">//Não existe próximo</span>
00574                 <a class="code" href="classTAbstractList.html#p1">PosCorrente</a> = (<a class="code" href="classTAbstractList.html#p0">Size</a> &gt; 1) ? <a class="code" href="classTAbstractList.html#p1">PosCorrente</a> - 1 : <a class="code" href="classTAbstractList.html#p0">Size</a> -1;   <span class="comment">//Também cobre o caso de ser o único elemento (PosCorrente = -1)</span>
00575                 pProximoCurrent = <a class="code" href="classTAbstractList.html#p4">pLast</a> = <a class="code" href="classTAbstractList.html#p3">pCurrent</a>-&gt;<a class="code" href="structTAbstractList_1_1node.html#o0">pPrior</a>;             <span class="comment">//Também cobre o caso de ser o único elemento (pCurrent = pLast = NULL)</span>
00576         }
00577 
00578         <span class="comment">//Retorna o elemento que será o pCurrent</span>
00579         <span class="keywordflow">return</span> pProximoCurrent;
00580 }
00581 
00582 <span class="comment">/******************************************************</span>
00583 <span class="comment"> * private TAbstractList&lt;T&gt;::_BubbleSort()</span>
00584 <span class="comment"> ******************************************************</span>
00585 <span class="comment"> * Ordena a lista</span>
00586 <span class="comment"> ******************************************************/</span>
<a name="l00587"></a><a class="code" href="classTAbstractList.html#d6">00587</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keywordtype">void</span> <a class="code" href="classTAbstractList.html#d6">TAbstractList&lt;T&gt;::_BubbleSort</a>()
00588 {
00589         <span class="comment">//Otimização</span>
00590         <span class="keyword">register</span> <a class="code" href="structTAbstractList_1_1node.html">Node</a> *i = NULL;
00591         <span class="keyword">register</span> <a class="code" href="structTAbstractList_1_1node.html">Node</a> *j = NULL;
00592         
00593         <span class="comment">//</span>
00594         <span class="comment">//BubleSort utilizando ponteiros :-D</span>
00595         <span class="comment">//Muito legal</span>
00596         <span class="comment">//</span>
00597         <span class="keywordflow">for</span>(i = <a class="code" href="classTAbstractList.html#p2">pFirst</a>; i != <a class="code" href="classTAbstractList.html#p4">pLast</a>-&gt;<a class="code" href="structTAbstractList_1_1node.html#o0">pPrior</a>; i = i-&gt;<a class="code" href="structTAbstractList_1_1node.html#o2">pNext</a>)
00598                 <span class="keywordflow">for</span>(j = <a class="code" href="classTAbstractList.html#p4">pLast</a>; j != i; j = j-&gt;<a class="code" href="structTAbstractList_1_1node.html#o0">pPrior</a>)
00599                         <a class="code" href="classTAbstractList.html#d7">_Swap</a>(j, j-&gt;<a class="code" href="structTAbstractList_1_1node.html#o0">pPrior</a>);
00600 
00601         <span class="comment">//Reseta o elemento corrente</span>
00602         <a class="code" href="classTAbstractList.html#b15">ResetCurrent</a>();
00603 }
00604 
00605 
00606 
00607 <span class="comment">/******************************************************</span>
00608 <span class="comment"> * private TAbstractList::_ToNext()</span>
00609 <span class="comment"> ******************************************************</span>
00610 <span class="comment"> * Aponta para o próximo elemento e atualiza a posição</span>
00611 <span class="comment"> ******************************************************/</span>
<a name="l00612"></a><a class="code" href="classTAbstractList.html#d3">00612</a> <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keywordtype">bool</span> <a class="code" href="classTAbstractList.html#d3">TAbstractList&lt;T&gt;::_ToNext</a>()
00613 {
00614         <span class="comment">//Retorna o status dessa ultima tentativa de movimentação</span>
00615         
00616         <span class="comment">//Verifica se é possível mover p/ o proximo</span>
00617         <span class="keywordflow">if</span>(<a class="code" href="classTAbstractList.html#p3">pCurrent</a>-&gt;<a class="code" href="structTAbstractList_1_1node.html#o2">pNext</a> != NULL)
00618         {
00619                 <span class="comment">//Move pro proximo</span>
00620                 <a class="code" href="classTAbstractList.html#p1">PosCorrente</a>++;
00621                 <a class="code" href="classTAbstractList.html#p3">pCurrent</a> = <a class="code" href="classTAbstractList.html#p3">pCurrent</a>-&gt;<a class="code" href="structTAbstractList_1_1node.html#o2">pNext</a>;
00622                 
00623                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00624         }
00625 
00626         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00627 }
00628 
00629 <span class="comment">/******************************************************</span>
00630 <span class="comment"> * private TAbstractList::_ToPrior()</span>
00631 <span class="comment"> ******************************************************</span>
00632 <span class="comment"> * Aponta para o elemento anterior e atualiza a posição</span>
00633 <span class="comment"> ******************************************************/</span>
<a name="l00634"></a><a class="code" href="classTAbstractList.html#d4">00634</a> <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keywordtype">bool</span> <a class="code" href="classTAbstractList.html#d4">TAbstractList&lt;T&gt;::_ToPrior</a>()
00635 {
00636         <span class="comment">//Verifica se é possível mover p/ o anterior</span>
00637         <span class="keywordflow">if</span>(<a class="code" href="classTAbstractList.html#p3">pCurrent</a>-&gt;<a class="code" href="structTAbstractList_1_1node.html#o0">pPrior</a> != NULL)
00638         {
00639                 <span class="comment">//Move pro anterior</span>
00640                 <a class="code" href="classTAbstractList.html#p1">PosCorrente</a>--;
00641                 <a class="code" href="classTAbstractList.html#p3">pCurrent</a> = <a class="code" href="classTAbstractList.html#p3">pCurrent</a>-&gt;<a class="code" href="structTAbstractList_1_1node.html#o0">pPrior</a>;
00642 
00643                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00644         }
00645 
00646         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00647 }
00648 
00649 <span class="comment">/******************************************************</span>
00650 <span class="comment"> * TAbstractList::MoveNext()</span>
00651 <span class="comment"> ******************************************************</span>
00652 <span class="comment"> * Aponta para o proximo elemento da lista</span>
00653 <span class="comment"> ******************************************************/</span>
<a name="l00654"></a><a class="code" href="classTAbstractList.html#b11">00654</a> <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keywordtype">int</span> <a class="code" href="classTAbstractList.html#b11">TAbstractList&lt;T&gt;::MoveNext</a>()
00655 {
00656         <span class="comment">//Já está resetado</span>
00657         <span class="keywordflow">if</span>(<a class="code" href="classTAbstractList.html#p3">pCurrent</a> == NULL)
00658                 <span class="comment">//Estou certo disso (especificação)</span>
00659                 <span class="keywordflow">return</span> <a class="code" href="classTAbstractList.html#b10">MoveFirst</a>();
00660 
00661         <span class="comment">//Ao tentar passar do ultimo, reseta</span>
00662         <span class="keywordflow">if</span>(! <a class="code" href="classTAbstractList.html#d3">_ToNext</a>() )
00663                 <a class="code" href="classTAbstractList.html#b15">ResetCurrent</a>();
00664 
00665         <span class="keywordflow">return</span> <a class="code" href="classTAbstractList.html#p1">PosCorrente</a>;
00666 }
00667 
00668 <span class="comment">/******************************************************</span>
00669 <span class="comment"> * TAbstractList::MovePrior()</span>
00670 <span class="comment"> ******************************************************</span>
00671 <span class="comment"> * Aponta para o elemento anterior da lista</span>
00672 <span class="comment"> ******************************************************/</span>
<a name="l00673"></a><a class="code" href="classTAbstractList.html#b12">00673</a> <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keywordtype">int</span> <a class="code" href="classTAbstractList.html#b12">TAbstractList&lt;T&gt;::MovePrior</a>()
00674 {
00675         <span class="comment">//Já está resetado</span>
00676         <span class="keywordflow">if</span>(<a class="code" href="classTAbstractList.html#p3">pCurrent</a> == NULL)
00677                 <span class="comment">//Estou certo disso (especificação)</span>
00678                 <span class="keywordflow">return</span> <a class="code" href="classTAbstractList.html#b13">MoveLast</a>();
00679 
00680         <span class="comment">//Ao tentar ir para anter do primeiro, reseta</span>
00681         <span class="keywordflow">if</span>(! <a class="code" href="classTAbstractList.html#d4">_ToPrior</a>() )
00682                 <a class="code" href="classTAbstractList.html#b15">ResetCurrent</a>();
00683 
00684         <span class="keywordflow">return</span> <a class="code" href="classTAbstractList.html#p1">PosCorrente</a>;
00685 }
00686 
00687 <span class="comment">/******************************************************</span>
00688 <span class="comment"> * TAbstractList::GoTo()</span>
00689 <span class="comment"> *******************************************************</span>
00690 <span class="comment"> * Aponta para o elemento na posição "i" da lista</span>
00691 <span class="comment"> *******************************************************/</span>
<a name="l00692"></a><a class="code" href="classTAbstractList.html#b14">00692</a> <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keywordtype">int</span> <a class="code" href="classTAbstractList.html">TAbstractList&lt;T&gt;::GoTo</a>(<span class="keywordtype">int</span> i)
00693 {
00694         <span class="comment">//Fora dos limites</span>
00695         <span class="keywordflow">if</span>(! (i &gt;= 0 &amp;&amp; i &lt;= <a class="code" href="classTAbstractList.html#p0">Size</a> ) )
00696                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classTEOutOfBounds.html">TEOutOfBounds</a>(<span class="stringliteral">"TAbstractList::GoTo"</span>);
00697 
00698         <span class="comment">//Movendo para alguma posicao de uma lista vazia</span>
00699         <span class="keywordflow">if</span>(<a class="code" href="classTAbstractList.html#p0">Size</a> == 0 || i == <a class="code" href="classTAbstractList.html#p1">PosCorrente</a>)
00700                 <span class="keywordflow">return</span> <a class="code" href="classTAbstractList.html#p1">PosCorrente</a>;
00701 
00702         <span class="comment">//</span>
00703         <span class="comment">//Otimiza a movimentação, restringindo o domínio</span>
00704         <span class="comment">//para fazer um balanceamento das comparações</span>
00705         <span class="comment">//</span>
00706 
00707         <span class="comment">//Primeira metade</span>
00708         <span class="keywordflow">if</span>(i &lt;= <a class="code" href="classTAbstractList.html#p0">Size</a> / 2) {
00709                 <span class="keywordflow">for</span>(<a class="code" href="classTAbstractList.html#b10">MoveFirst</a>(); i &gt; 0; i--)
00710                         <a class="code" href="classTAbstractList.html#d3">_ToNext</a>();
00711         }
00712         
00713         <span class="comment">//Segunda metade</span>
00714         <span class="keywordflow">else</span> {
00715                 <span class="keywordflow">for</span>(i = <a class="code" href="classTAbstractList.html#p0">Size</a> - i, <a class="code" href="classTAbstractList.html#b13">MoveLast</a>(); i &gt; 1; i--)
00716                         <a class="code" href="classTAbstractList.html#d4">_ToPrior</a>();
00717         }
00718 
00719         <span class="keywordflow">return</span> <a class="code" href="classTAbstractList.html#p1">PosCorrente</a>;
00720 }
00721 
00722 <span class="comment">/******************************************************</span>
00723 <span class="comment"> * TAbstractList::_CreateNode()</span>
00724 <span class="comment"> *******************************************************</span>
00725 <span class="comment"> * Cria um novo elemento para a lista</span>
00726 <span class="comment"></span>
00727 <span class="comment">template &lt;class T&gt; struct TAbstractList&lt;T&gt;::node *TAbstractList&lt;T&gt;::CreateNode(T* data, Node *prior = NULL, Node *next = NULL)</span>
00728 <span class="comment">{</span>
00729 <span class="comment">        Node *newNode = new Node;</span>
00730 <span class="comment">        newNode-&gt;Data = data;</span>
00731 <span class="comment">        newNode-&gt;pPrior = prior;</span>
00732 <span class="comment">        newNode-&gt;pNext = next;  //Parece-me ser sempre o pCurrent</span>
00733 <span class="comment"></span>
00734 <span class="comment">        return newNode;</span>
00735 <span class="comment">}</span>
00736 <span class="comment"> *******************************************************/</span>
00737 
00738 
00739 <span class="comment">/******************************************************</span>
00740 <span class="comment"> * protected TAbstractList&lt;T&gt;::Insert()</span>
00741 <span class="comment"> *******************************************************</span>
00742 <span class="comment"> * Insere um elemento na posição `i` da lista </span>
00743 <span class="comment"> *******************************************************/</span>
00744 
00745 <span class="comment">/******************************************************</span>
00746 <span class="comment"> *                   CHANGELOG</span>
00747 <span class="comment"> *******************************************************</span>
00748 <span class="comment"> * [04/05/2005 01:00] Iniciada</span>
00749 <span class="comment"> * [05/05/2005 23:28] Finalizada ver. 0.5</span>
00750 <span class="comment"> *******************************************************/</span>
<a name="l00751"></a><a class="code" href="classTAbstractList.html#b5">00751</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keywordtype">int</span> <a class="code" href="classTAbstractList.html">TAbstractList&lt;T&gt;::Insert</a>(T* data, <span class="keywordtype">int</span> i=0)
00752 {
00753         <a class="code" href="structTAbstractList_1_1node.html">Node</a> *prior, *pNew;
00754 
00755         <span class="comment">//Inserindo u melemento nulo</span>
00756         <span class="keywordflow">if</span>(data == NULL)
00757                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classTENullElement.html">TENullElement</a>(<span class="stringliteral">"TAbstractList::Insert"</span>);
00758 
00759         <span class="comment">//Movimenta</span>
00760         <a class="code" href="classTAbstractList.html#b14">GoTo</a>(i);
00761 
00762         <span class="comment">//Define o nó anterior</span>
00763         prior = (<a class="code" href="classTAbstractList.html#p3">pCurrent</a> == NULL) ? pCurrent : pCurrent-&gt;<a class="code" href="structTAbstractList_1_1node.html#o0">pPrior</a>;
00764 
00765         <span class="comment">//Cria o novo nó</span>
00766         pNew = <a class="code" href="classTAbstractList.html#d0">_CreateNode</a>(data, prior, pCurrent);
00767 
00768         <span class="comment">/****************************************</span>
00769 <span class="comment">        * Essa ordem de avaliação é importante</span>
00770 <span class="comment">        ****************************************/</span>
00771         
00772         <span class="comment">//Ultimo elemento</span>
00773         <span class="keywordflow">if</span>(i == <a class="code" href="classTAbstractList.html#p0">Size</a>) {
00774                 pNew-&gt;<a class="code" href="structTAbstractList_1_1node.html#o0">pPrior</a> = pCurrent;
00775                 pNew-&gt;<a class="code" href="structTAbstractList_1_1node.html#o2">pNext</a> = NULL;
00776 
00777                 <a class="code" href="classTAbstractList.html#p4">pLast</a> = pNew;   <span class="comment">//Atualiza o ultimo</span>
00778         }
00779         <span class="keywordflow">else</span> {
00780                 pNew-&gt;<a class="code" href="structTAbstractList_1_1node.html#o0">pPrior</a> = pCurrent-&gt;<a class="code" href="structTAbstractList_1_1node.html#o0">pPrior</a>;
00781                 pCurrent-&gt;<a class="code" href="structTAbstractList_1_1node.html#o0">pPrior</a> = pNew;
00782                 <span class="comment">//pNew-&gt;pNext = pCurrent (por definicao)</span>
00783         }
00784 
00785         <span class="comment">//Primeiro elemento</span>
00786         <span class="keywordflow">if</span>(i == 0) {
00787                 pNew-&gt;<a class="code" href="structTAbstractList_1_1node.html#o0">pPrior</a> = NULL;
00788                 <span class="comment">//pNew-&gt;pNext = pCurrent (por definicao)</span>
00789 
00790                 <a class="code" href="classTAbstractList.html#p2">pFirst</a> = pNew;  <span class="comment">//Atualiza o primeiro</span>
00791         }
00792         <span class="keywordflow">else</span> {
00793                 pNew-&gt;<a class="code" href="structTAbstractList_1_1node.html#o0">pPrior</a>-&gt;<a class="code" href="structTAbstractList_1_1node.html#o2">pNext</a> = pNew;
00794         }
00795 
00796         <span class="comment">//O elemento sendo inserido nao é o unico</span>
00797         <span class="keywordflow">if</span>(pCurrent != NULL) {
00798                 <span class="comment">//Primeiro</span>
00799                 <span class="keywordflow">if</span>(i == 0)
00800                 pCurrent-&gt;<a class="code" href="structTAbstractList_1_1node.html#o0">pPrior</a> = pNew;
00801 
00802                 <span class="comment">//Ultimo</span>
00803                 <span class="keywordflow">if</span>(i == <a class="code" href="classTAbstractList.html#p0">Size</a>)
00804                 pCurrent-&gt;<a class="code" href="structTAbstractList_1_1node.html#o2">pNext</a> = pNew;
00805         }
00806 
00807         <span class="comment">//Atualiza o elemento corrente</span>
00808         pCurrent = pNew;
00809         <a class="code" href="classTAbstractList.html#p1">PosCorrente</a> = i;
00810         
00811         <span class="comment">//Atualiza o tamanho</span>
00812         <a class="code" href="classTAbstractList.html#p0">Size</a>++;
00813 
00814 <span class="preprocessor">#ifdef DEBUG</span>
00815 <span class="preprocessor"></span>        <span class="comment">//Invariante</span>
00816         INVARIANTE(data == <a class="code" href="classTAbstractList.html#b3">Get</a>(i), <span class="stringliteral">"data == Get(i) | from TAbstractList::Insert "</span>)
00817 #endif
00818 
00819         <span class="comment">//Retorna a posição</span>
00820         <span class="keywordflow">return</span> i;
00821 }
00822 
00823 
00824 
00825 <span class="comment">/******************************************************</span>
00826 <span class="comment"> * protected TAbstractList&lt;T&gt;::Del()</span>
00827 <span class="comment"> *******************************************************</span>
00828 <span class="comment"> * Remove um elemento de uma posição específica</span>
00829 <span class="comment"> *******************************************************/</span>
00830  
00831 <span class="comment">/******************************************************</span>
00832 <span class="comment"> *                   CHANGELOG</span>
00833 <span class="comment"> *******************************************************</span>
00834 <span class="comment"> * [12/05/2005 00:15]   Finalizada ver. beta</span>
00835 <span class="comment"> *******************************************************/</span>
<a name="l00836"></a><a class="code" href="classTAbstractList.html#b6">00836</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keywordtype">int</span> <a class="code" href="classTAbstractList.html">TAbstractList&lt;T&gt;::Del</a>(<span class="keywordtype">int</span> posicao)
00837 {
00838         <span class="comment">//Organiza a lista para a remoção e obtem o pCurrent</span>
00839         <a class="code" href="structTAbstractList_1_1node.html">Node</a>* pProximoCurrent = <a class="code" href="classTAbstractList.html#d5">_PrepareDel</a>(posicao);
00840 
00841         <span class="comment">//Remove o elemento da lista</span>
00842         <span class="keyword">delete</span> <a class="code" href="classTAbstractList.html#p3">pCurrent</a>;
00843 
00844         <span class="comment">//Atualiza o pCurrent (evita um novo GoTo)</span>
00845         <a class="code" href="classTAbstractList.html#p3">pCurrent</a> = pProximoCurrent;
00846 
00847         <span class="comment">//Decrementa o tamanho</span>
00848         <a class="code" href="classTAbstractList.html#p0">Size</a>--;
00849 
00850         <span class="keywordflow">return</span> <a class="code" href="classTAbstractList.html#p1">PosCorrente</a>;
00851 }
00852 
00853 
00854 <span class="comment">/******************************************************</span>
00855 <span class="comment"> * protected TAbstractList::DelAll()</span>
00856 <span class="comment"> ******************************************************</span>
00857 <span class="comment"> * Remove todos os elementos da lista</span>
00858 <span class="comment"> ******************************************************/</span>
00859  <span class="comment">/******************************************************</span>
00860 <span class="comment"> *                   CHANGELOG</span>
00861 <span class="comment"> *******************************************************</span>
00862 <span class="comment"> * [12/05/2005 00:21] Finalizada versao beta.</span>
00863 <span class="comment"> *******************************************************/</span>
<a name="l00864"></a><a class="code" href="classTAbstractList.html#b7">00864</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keywordtype">void</span> <a class="code" href="classTAbstractList.html#b7">TAbstractList&lt;T&gt;::DelAll</a>()
00865 {
00866         <span class="comment">//Preferi utilizar um loop em conjunto com Del() por motivos de:</span>
00867         <span class="comment">//1) Elegância</span>
00868         <span class="comment">//2) A complexidade continua sendo O(n)</span>
00869 
00870         <span class="comment">// Vai para o primeiro</span>
00871         <a class="code" href="classTAbstractList.html#b10">MoveFirst</a>();    <span class="comment">//O(1)</span>
00872 
00873         <span class="comment">// n vezes</span>
00874         <span class="keywordflow">while</span>(<a class="code" href="classTAbstractList.html#p3">pCurrent</a> != NULL)
00875                 <a class="code" href="classTAbstractList.html#b6">Del</a>(0);         <span class="comment">// Remove o primeiro</span>
00876                                 <span class="comment">// O(1)</span>
00877 }
00878 
00879 <span class="comment">/******************************************************</span>
00880 <span class="comment"> * protected TAbstractList&lt;T&gt;::Kill()</span>
00881 <span class="comment"> ******************************************************</span>
00882 <span class="comment"> * Destrói um elemento da lista</span>
00883 <span class="comment"> ******************************************************/</span>
<a name="l00884"></a><a class="code" href="classTAbstractList.html#b8">00884</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keywordtype">int</span> <a class="code" href="classTAbstractList.html">TAbstractList&lt;T&gt;::Kill</a>(<span class="keywordtype">int</span> posicao)
00885 {
00886         <span class="comment">//Organiza a lista para a remoção e obtem o pCurrent</span>
00887         <a class="code" href="structTAbstractList_1_1node.html">Node</a>* pProximoCurrent = <a class="code" href="classTAbstractList.html#d5">_PrepareDel</a>(posicao);
00888 
00889         <span class="comment">//Remove o elemento da lista</span>
00890         free(<a class="code" href="classTAbstractList.html#p3">pCurrent</a>-&gt;<a class="code" href="structTAbstractList_1_1node.html#o1">Data</a>);
00891         <span class="keyword">delete</span> <a class="code" href="classTAbstractList.html#p3">pCurrent</a>;
00892 
00893         <span class="comment">//Atualiza o pCurrent (evita um novo GoTo)</span>
00894         <a class="code" href="classTAbstractList.html#p3">pCurrent</a> = pProximoCurrent;
00895 
00896         <span class="comment">//Decrementa o tamanho</span>
00897         <a class="code" href="classTAbstractList.html#p0">Size</a>--;
00898 
00899         <span class="keywordflow">return</span> <a class="code" href="classTAbstractList.html#p1">PosCorrente</a>;
00900 }
00901 
00902 <span class="comment">/******************************************************</span>
00903 <span class="comment"> * protected TAbstractList&lt;T&gt;::DelAll()</span>
00904 <span class="comment"> ******************************************************</span>
00905 <span class="comment"> * Destrói todos os elementos da lista</span>
00906 <span class="comment"> ******************************************************/</span>
<a name="l00907"></a><a class="code" href="classTAbstractList.html#b9">00907</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keywordtype">void</span> <a class="code" href="classTAbstractList.html#b9">TAbstractList&lt;T&gt;::KillAll</a>()
00908 {
00909         <span class="comment">//Preferi utilizar um loop em conjunto com Del() por motivos de:</span>
00910         <span class="comment">//1) Elegância</span>
00911         <span class="comment">//2) A complexidade continua sendo O(n)</span>
00912 
00913         <span class="comment">// Vai para o primeiro</span>
00914         <a class="code" href="classTAbstractList.html#b10">MoveFirst</a>();            <span class="comment">// O(1)</span>
00915 
00916         <span class="comment">// n vezes</span>
00917         <span class="keywordflow">while</span>(<a class="code" href="classTAbstractList.html#p3">pCurrent</a> != NULL)
00918                 <a class="code" href="classTAbstractList.html#b8">Kill</a>(0);        <span class="comment">// Remove o primeiro</span>
00919                                 <span class="comment">// O(1)</span>
00920 }
00921 
00922 <span class="comment">/******************************************************</span>
00923 <span class="comment"> * protected TAbstractList&lt;T&gt;::Search()</span>
00924 <span class="comment"> ******************************************************</span>
00925 <span class="comment"> * Busca um elemento na lista</span>
00926 <span class="comment"> ******************************************************/</span>
<a name="l00927"></a><a class="code" href="classTAbstractList.html#b16">00927</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keywordtype">int</span> <a class="code" href="classTAbstractList.html">TAbstractList&lt;T&gt;::Search</a>(T* procurado)
00928 {
00929         <span class="comment">//Pocurando por u melemento nulo</span>
00930         <span class="keywordflow">if</span>(procurado == NULL)
00931                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classTENullElement.html">TENullElement</a>(<span class="stringliteral">"TAbstractList::Search"</span>);
00932 
00933         <span class="comment">//Varre todos os elementos</span>
00934         <a class="code" href="classTAbstractList.html#b10">MoveFirst</a>();
00935         <span class="keywordflow">while</span>( <a class="code" href="classTAbstractList.html#p3">pCurrent</a> != NULL )
00936         {
00937                 <span class="comment">//Encontrou?</span>
00938                 <span class="keywordflow">if</span>( *procurado == *(<a class="code" href="classTAbstractList.html#p3">pCurrent</a>-&gt;<a class="code" href="structTAbstractList_1_1node.html#o1">Data</a>) ) { <span class="keywordflow">break</span>; }
00939 
00940                 <span class="comment">//Proximo...</span>
00941                 <a class="code" href="classTAbstractList.html#b11">MoveNext</a>();
00942         }
00943 
00944         <span class="comment">//Retorna o elemento encontrado</span>
00945         <span class="keywordflow">return</span> <a class="code" href="classTAbstractList.html#p1">PosCorrente</a>;
00946 }
00947 
00948 <span class="comment">/******************************************************</span>
00949 <span class="comment"> * protected TAbstractList&lt;T&gt;::Sort()</span>
00950 <span class="comment"> ******************************************************</span>
00951 <span class="comment"> * Ordena a lista</span>
00952 <span class="comment"> ******************************************************/</span>
<a name="l00953"></a><a class="code" href="classTAbstractList.html#b17">00953</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keywordtype">void</span> <a class="code" href="classTAbstractList.html#b17">TAbstractList&lt;T&gt;::Sort</a>()
00954 {
00955         <span class="comment">//Lista vazia</span>
00956         <span class="keywordflow">if</span>(<a class="code" href="classTAbstractList.html#p0">Size</a> == 0)
00957         {
00958                 <a class="code" href="classTAbstractList.html#b15">ResetCurrent</a>();
00959                 <span class="keywordflow">return</span>;
00960         }
00961 
00962         <span class="comment">//Array para ordenação</span>
00963         <a class="code" href="structTAbstractList_1_1node.html">Node</a>* Espelho[<a class="code" href="classTAbstractList.html#p0">Size</a>];
00964         <span class="keyword">register</span> <span class="keywordtype">int</span> i;
00965 
00966         <span class="comment">//Armazena no array</span>
00967         <span class="keywordflow">for</span>(i = <a class="code" href="classTAbstractList.html#b10">MoveFirst</a>(); i &gt; -1; i = <a class="code" href="classTAbstractList.html#b11">MoveNext</a>())
00968         {
00969                 Espelho[i] = <a class="code" href="classTAbstractList.html#p3">pCurrent</a>;
00970         }
00971 
00972         <span class="comment">//Ordena com o quicksort da bibliotecapadrao C</span>
00973         qsort(Espelho, <a class="code" href="classTAbstractList.html#p0">Size</a>, <span class="keyword">sizeof</span>(<a class="code" href="structTAbstractList_1_1node.html">Node</a> *), _Compara&lt;T&gt;);
00974 
00975         <span class="comment">//Devolve pra lista</span>
00976         <a class="code" href="classTAbstractList.html#p3">pCurrent</a> = <a class="code" href="classTAbstractList.html#p2">pFirst</a> = Espelho[0];
00977         <a class="code" href="classTAbstractList.html#p3">pCurrent</a>-&gt;<a class="code" href="structTAbstractList_1_1node.html#o0">pPrior</a> = NULL;
00978         <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="classTAbstractList.html#p0">Size</a> - 1; i++)   <span class="comment">//Talvez esse moveNext()</span>
00979         {
00980 std::cerr &lt;&lt; <span class="stringliteral">" INICIO FOR ( "</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;
00981 
00982                 <a class="code" href="classTAbstractList.html#p3">pCurrent</a>-&gt;<a class="code" href="structTAbstractList_1_1node.html#o2">pNext</a> = Espelho[i+1];
00983                 <a class="code" href="classTAbstractList.html#p3">pCurrent</a>-&gt;<a class="code" href="structTAbstractList_1_1node.html#o2">pNext</a>-&gt;<a class="code" href="structTAbstractList_1_1node.html#o0">pPrior</a> = <a class="code" href="classTAbstractList.html#p3">pCurrent</a>;
00984 
00985 std::cerr &lt;&lt; <span class="stringliteral">" FIM FOR ( "</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;    
00986                 <a class="code" href="classTAbstractList.html#p3">pCurrent</a> = <a class="code" href="classTAbstractList.html#p3">pCurrent</a>-&gt;<a class="code" href="structTAbstractList_1_1node.html#o2">pNext</a>;
00987         }
00988 
00989         <a class="code" href="classTAbstractList.html#p4">pLast</a> = Espelho[Size-1];
00990         <a class="code" href="classTAbstractList.html#p4">pLast</a>-&gt;<a class="code" href="structTAbstractList_1_1node.html#o2">pNext</a> = NULL;
00991 
00992 std::cout &lt;&lt; <span class="stringliteral">" ORDENOU "</span> &lt;&lt; std::endl;
00993         
00994         <span class="comment">//Reseta o elemento corrente</span>
00995         <a class="code" href="classTAbstractList.html#b15">ResetCurrent</a>();
00996 }
00997 
00998 
00999 <span class="preprocessor">#ifdef DEBUG</span>
01000 <span class="preprocessor"></span><span class="comment">/******************************************************</span>
01001 <span class="comment"> * TAbstractList::Dump()</span>
01002 <span class="comment"> ******************************************************</span>
01003 <span class="comment"> * Exibe os dados do objeto</span>
01004 <span class="comment"> ******************************************************/</span>
01005  <span class="comment">/******************************************************</span>
01006 <span class="comment"> *                   CHANGELOG</span>
01007 <span class="comment"> *******************************************************</span>
01008 <span class="comment"> * [12/05/2005 00:15] Corrigida para não interferir nos atributos do objeto</span>
01009 <span class="comment"> *******************************************************/</span>
01010 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keywordtype">void</span> <a class="code" href="classTAbstractList.html">TAbstractList&lt;T&gt;::Dump</a>()
01011 {
01012         <span class="keywordtype">int</span> i = 0;
01013         Node *nodeAtual = NULL;
01014 
01015         std::cerr &lt;&lt; endl
01016                         &lt;&lt; <span class="stringliteral">"+----------[AbstractList]----------+"</span> &lt;&lt; std::endl
01017                         &lt;&lt; <span class="stringliteral">"| pFirst \t = "</span> &lt;&lt; pFirst   &lt;&lt; std::endl    
01018                         &lt;&lt; <span class="stringliteral">"| pCurrent   = "</span> &lt;&lt; pCurrent        &lt;&lt; std::endl
01019                         &lt;&lt; <span class="stringliteral">"| pLast \t = "</span> &lt;&lt; pLast     &lt;&lt; std::endl
01020                         &lt;&lt; <span class="stringliteral">"| PosCorrente \t = "</span> &lt;&lt; PosCorrente &lt;&lt; std::endl
01021                         &lt;&lt; <span class="stringliteral">"| Size \t\t = "</span> &lt;&lt; Size             &lt;&lt; std::endl
01022                         &lt;&lt; <span class="stringliteral">"+----------------------------------+"</span> &lt;&lt; std::endl &lt;&lt; std::endl;
01023         
01024         <span class="keywordflow">if</span>(Size &gt; 0){
01025                 std::cerr &lt;&lt; <span class="stringliteral">"[ELEMENTOS]"</span> &lt;&lt; endl;
01026 
01027                 nodeAtual = pFirst;
01028                 
01029                 <span class="comment">//Percorre cada elemento e imprime-o</span>
01030                 <span class="keywordflow">do</span> {
01031                         std::cerr       &lt;&lt; <span class="stringliteral">"["</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">"]\t["</span> &lt;&lt; nodeAtual &lt;&lt; <span class="stringliteral">"]\t"</span> &lt;&lt; *(nodeAtual-&gt;Data)  &lt;&lt; std::endl
01032                                         &lt;&lt; <span class="stringliteral">"pPrior \t["</span> &lt;&lt; nodeAtual-&gt;<a class="code" href="structTAbstractList_1_1node.html#o0">pPrior</a> &lt;&lt; <span class="stringliteral">"]"</span> &lt;&lt; std::endl
01033                                         &lt;&lt; <span class="stringliteral">"Data \t["</span> &lt;&lt; nodeAtual-&gt;<a class="code" href="structTAbstractList_1_1node.html#o1">Data</a> &lt;&lt; <span class="stringliteral">"]"</span> &lt;&lt; std::endl
01034                                         &lt;&lt; <span class="stringliteral">"pNext \t["</span> &lt;&lt; nodeAtual-&gt;pNext &lt;&lt; <span class="stringliteral">"]"</span> &lt;&lt; std::endl &lt;&lt; std::endl;
01035 
01036                         
01037                         i++;
01038                 }
01039                 <span class="keywordflow">while</span>(NULL != (nodeAtual = nodeAtual-&gt;pNext));
01040         }
01041 }
01042 <span class="preprocessor">#endif</span>
01043 <span class="preprocessor"></span>
01044 <span class="preprocessor">#endif</span>
</div></pre><hr size="1"><address style="align: right;"><small>Gerado em Tue Jun 7 22:36:05 2005 para Estrutura de Dados - Trabalho 1 por
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
